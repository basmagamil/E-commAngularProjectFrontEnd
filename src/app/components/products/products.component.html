<div class="container">
    <div class="row">
        <div class="col-10 mt-3 offset-1">
            <div class="p-2">
                


                <button type="button" class="btn btn-outline-primary mt-3 col-12 w-100"
                    routerLink="../products/add">Add new product</button>

                <!--  -->
                <div class="row" *ngFor="let product of products | filter:search" >
                    <div class="card mb-3 mt-2 col-12">
                        <div class="row no-gutters">
                            <div class="col-md-3">
                                <h6 style="background-color: red; color: white;font-size:25px;" class="w-50 p-2 m-3"
                                    *ngIf="product.ratioOfPromotion">{{product.ratioOfPromotion*100}}<fa-icon
                                        style="color:white;font-size:25px;" [icon]="faPercent"></fa-icon>
                                </h6>
                                <img [src]="product.images[0]" class="card-img m-3">
                            </div>
                            <div class="col-md-6">
                                <div class="card-body m-1">
                                    <h5 class="card-title">{{product.title}}</h5>
                                    <ul class="card-text">
                                        <li *ngFor="let key of GetKeys(product.details)"><b>{{key}}:</b>
                                            {{product.details[key]}}</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mt-4 text-center">
                                    <h5>{{product.price}} EGP</h5>
                                    <h6 style="text-decoration: line-through;" class="text-danger"
                                        *ngIf="product.ratioOfPromotion">
                                        {{product.price-product.price*product.ratioOfPromotion}} EGP</h6>
                                    <button type="button" class="btn btn-outline-primary mt-5 w-100"
                                        routerLink="../products/Details/{{product._id}}">View Full Details</button>
                                    <br>
                                    <div class="btn-group mt-5 w-100" role="group" aria-label="Basic example">
                                        <button type="button" class="btn btn-outline-primary" data-toggle="modal"
                                            data-target="#DeleteModal" (click)="DeleteModal(product)">Delete</button>
                                        <button type="button" class="btn btn-outline-primary"
                                            (click)="Update(product)">Update</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="card mt-2 mb-3 col-md-3 col-sm-6">
                        <div class="card-body row align-items-center justify-content-center">
                            <h5 class="card-title">Admin Options</h5>
                            <button type="button" class="btn btn-outline-danger m-1" data-toggle="modal"
                                data-target="#DeleteModal" (click)="DeleteModal(product)">Delete</button>
                            <button type="button" class="btn btn-outline-success m-1"
                                (click)="Update(product)">update</button>
                        </div>
                    </div> -->
                </div>
                <div class="modal fade" id="DeleteModal" tabindex="-1" role="dialog">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Delete item</h5>
                                <button type="button" class="close" data-dismiss="modal" 
                                aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                Are you sure do you want to delete this item {{DeleteProductItemID}}
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal"
                                    (click)="Delete(DeleteProductItemID)">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>